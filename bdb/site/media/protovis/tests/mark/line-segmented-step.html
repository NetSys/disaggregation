<html>
  <head>
    <title>Segmented Line with Step Interpolation</title>
    <script type="text/javascript" src="../../protovis.js"></script>
    <link rel="stylesheet" type="text/css" href="../style.css"/>
  </head>
  <body>
    <script type="text/javascript+protovis">

var vis = new pv.Panel()
    .width(500)
    .height(270)
    .left(5)
    .right(5)
    .bottom(5);

var line = vis.add(pv.Line)
    .data(function() pv.range(0, 6, .1).map(Math.sin))
    .segmented(true)
    .left(function() this.index / 59 * 500)
    .bottom(function(d) (d + 1) / 2 * 250 + 10)
    .strokeStyle(pv.ramp("red", "orange").by(function(d) (d + 1) / 2))
    .interpolate("step-before")
  .add(pv.Line)
    .strokeStyle(pv.ramp("green", "yellow").by(function(d) (d + 1) / 2))
    .interpolate("step-after")
  .add(pv.Line)
    .strokeStyle(pv.ramp("cyan", "blue").by(function(d) (d + 1) / 2))
    .interpolate("linear");

vis.render();

    </script>

<p>The orange-red line uses "step-before"; the yellow-green line uses
"step-after". The orange-red line should precede the blue-cyan line, which uses
"linear" interpolation, while the yellow-green line should follow the blue-cyan
line.

  </body>
</html>
